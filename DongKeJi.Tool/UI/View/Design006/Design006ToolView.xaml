<state:StateView
    x:Class="DongKeJi.Tool.UI.View.Design006.Design006ToolView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cb="clr-namespace:CalcBinding;assembly=CalcBinding"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:state="clr-namespace:DongKeJi.UI.Control.State;assembly=DongKeJi"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:vm="clr-namespace:DongKeJi.Tool.ViewModel.Design006"
    d:DataContext="{d:DesignInstance vm:Design006ViewModel,
                                     IsDesignTimeCreatable=False}"
    mc:Ignorable="d">

    <DockPanel AllowDrop="True" Drop="UIElement_OnDrop">

        <!--  标题栏  -->
        <ui:CardControl DockPanel.Dock="Top" Header="{Binding ToolItem.Title}">

            <StackPanel Orientation="Horizontal">

                <ui:ToggleSwitch
                    Margin="5,0,0,0"
                    HorizontalAlignment="Center"
                    HorizontalContentAlignment="Center"
                    Content="自动保存"
                    IsChecked="{Binding AutoSave}" />

                <ui:Button
                    Margin="5,0,0,0"
                    HorizontalAlignment="Stretch"
                    Appearance="Danger"
                    Command="{Binding ClearCommand}"
                    Content="清空"
                    Icon="{ui:SymbolIcon Symbol=Copy16}"
                    Visibility="{cb:Binding 'DropUrl != null'}" />

                <ui:Button
                    Margin="5,0,0,0"
                    HorizontalAlignment="Stretch"
                    Appearance="Primary"
                    Command="{Binding CopyCommand}"
                    Content="复制"
                    Icon="{ui:SymbolIcon Symbol=Copy16}"
                    Visibility="{cb:Binding 'DropUrl != null'}" />

                <ui:Button
                    Margin="5,0,0,0"
                    HorizontalAlignment="Stretch"
                    Command="{Binding OpenCommand}"
                    Content="打开"
                    Icon="{ui:SymbolIcon Symbol=Save20}"
                    Visibility="{cb:Binding 'DropUrl != null'}" />

            </StackPanel>

        </ui:CardControl>

        <!--  内容  -->
        <Grid>
            <!--  背景  -->
            <ui:CardControl
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Visibility="{cb:Binding 'DownloadUrl == null'}">

                <ui:CardControl.Header>
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">

                        <ui:SymbolIcon Symbol="ArrowUpload16" />
                        <ui:TextBlock Margin="0,5,0,0" Text="拖拽图片到此处" />

                    </StackPanel>
                </ui:CardControl.Header>

            </ui:CardControl>

            <!--  前景  -->
            <DockPanel>

                <!--  缩略图  -->
                <Image
                    Width="250"
                    DockPanel.Dock="Right"
                    IsEnabled="{cb:Binding 'DownloadUrl != null'}"
                    Source="{Binding DropUrl}"
                    Stretch="Uniform"
                    Visibility="{cb:Binding 'DownloadUrl != null'}" />

                <!--  原图  -->
                <ItemsControl
                    MaxWidth="750"
                    Margin="10,0"
                    Visibility="{cb:Binding 'DownloadUrl != null'}">
                    <Image
                        IsEnabled="{cb:Binding 'DownloadUrl != null'}"
                        Source="{Binding DropUrl}"
                        Stretch="UniformToFill" />
                </ItemsControl>

            </DockPanel>

        </Grid>

    </DockPanel>
</state:StateView>
